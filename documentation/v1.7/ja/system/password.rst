==============
パスワード設定
==============

| Exastro OASE におけるパスワード設定について説明します。
| パスワード設定では、Exastro OASE の全ユーザに共通で以下の機能を提供します。

* パスワードの制限
* アカウントロック条件
* メール通知設定


.. tip:: 
   | Active Directroy 連携時にはシステム管理者以外に「パスワード設定」項目は表示されません。

パスワード関連設定
==================

| 画面上部のメニューから :menuselection:`システム --> システム設定` を開きます。
| 左メニューから :menuselection:`パスワード設定` を選択します。

.. figure:: /images/ja/system_config/password_column_edit.png
   :scale: 30%
   :align: center

   パスワード設定編集画面

.. table:: パスワード設定項目

   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | 設定項目                     | 設定項目の説明と設定可能な値                                                                                           | 設定値の説明                                 |
   +==============================+========================================================================================================================+==============================================+
   | パスワード有効期間           | パスワードの有効期限を設定します。有効期限を過ぎた場合、次回ログイン時にパスワードの変更を求められます。                                                              |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`OFF`                                                                                                         | 無期限                                       |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 180` (日)                                                                                                | 有効期限(日)                                 |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`90` (日)                                                                                                     | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | 同一パスワード設定不可世代数 | この値を設定した場合、指定した世代数の間は同一のパスワードを設定を制限します。                                                                                        |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`OFF`                                                                                                         | 同一パスワード利用制限なし                   |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 5` (世代)                                                                                                | 同一パスワード設定不可となる世代             |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`3` (世代)                                                                                                    | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | パスワード誤り閾値           | パスワード入力の誤り回数が閾値を超えたユーザは、アカウントが一時的にロックします。                                                                                    |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`OFF`                                                                                                         | アカウントロックしない                       |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 10` (回)                                                                                                 | アカウントロックされるまでの回数             |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`3` (回)                                                                                                      | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | アカウントロック継続期間     | アカウントロックが解除されるまでの時間。                                                                                                                              |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`119` (分)                                                                                                    | アカウントロックが解除されるまでの時間       |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 120` (分)                                                                                                | アカウントロックが解除されるまでの時間       |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`30` (分)                                                                                                     | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | ワンタイムパスワード有効期間 | 新規ユーザ登録時に発行されるワンタイムパスワードの有効期限を設定します。                                                                                              |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`OFF`                                                                                                         | 無期限                                       |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 72` (時間)                                                                                               | 有効期限(時間)                               |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`24` (時間)                                                                                                   | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | アカウントロック上限回数     | アカウントロック上限を超えたユーザを、アカウント凍結し、アカウントロックユーザに登録します。                                                                          |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`OFF`                                                                                                         | アカウントロックユーザに登録しない           |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 10` (回)                                                                                                 | アカウントロックユーザに登録されるまでの回数 |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`5` (回)                                                                                                      | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | 同一IP連続ログイン試行上限   | 同一IPアドレスから連続でログインに失敗した回数が閾値を超えた場合、アクセス元のIPアドレスをブラックリストに登録します。                                                |
   +                              +                                                                                                                                                                       +
   |                              | .. tip:: | 「ブラック/ホワイトリスト」機能が無効の場合は「無効」と表示されます。                                                                                      |
   +                              +                                                                                                                                                                       +
   |                              |          | 「ブラック/ホワイトリスト」機能は settings.py で設定します。                                                                                               |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`OFF`                                                                                                         | ブラックリストに登録しない                   |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`1 - 1000` (回)                                                                                               | ブラックリストに登録するアクセス回数         |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`100` (回)                                                                                                    | デフォルト                                   |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | メール通知種別               | アカウントロックユーザやブラックリストが登録された際に、選択した種別に応じてメールを送信します。                                                                      |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`管理者(administrator)のみ`                                                                                   | 管理者のみに通知 ※デフォルト                 |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`管理者(administrator)+ユーザ更新権限のあるユーザ`                                                            | 管理者とユーザ更新権限のあるユーザに通知     |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`管理者(administrator)+ログインID指定`                                                                        | 管理者と指定したユーザに通知                 |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   | メール通知先ログインID       | メール通知するユーザを指定します。                                                                                                                                    |
   +                              +                                                                                                                                                                       +
   |                              | ※この項目はメール通知種別を :program:`管理者(administrator)+ログインID指定` を選択した場合のみ表示されます。                                                          |
   +                              +------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+
   |                              | :program:`ログインID` (カンマ区切りで複数指定可能)                                                                                                                    |
   +------------------------------+------------------------------------------------------------------------------------------------------------------------+----------------------------------------------+

| 設定が完了したら :guilabel:` 保存` をクリックします。
| 設定前の状態に戻すには、:guilabel:` リセット` をクリックします。